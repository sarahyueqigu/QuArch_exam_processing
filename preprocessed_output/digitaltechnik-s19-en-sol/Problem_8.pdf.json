{
    "problem": "8",
    "problem_context": "A systolic array consists of 3x4 Processing Elements (PEs), interconnected as shown in Figure 1. The inputs of the systolic array are labeled as H0, H1, H2 and V0,V1,V2,V3. Figure 2 shows the PE logic, which performs a multiply and accumulate operation (MAC), and it saves the result in an internal register (reg). Figure 2 also shows how each PE propagates its inputs. We make the following assumptions:\n\n\u2022 The latency of each MAC is one cycle.\n\n\u2022 The propagation of the values from i0 to o0, and from i1 to o1, takes one cycle.\n\n\u2022 The initial value of all registers is zero.\n\n\u2022 You can input a value more than once in the systolic array.\n\nPE00 PE01 PE02\n\nPE10 PE11 PE12\n\nPE20 PE21 PE22\n\nPE03\n\nPE13\n\nPE23H2\n\nH1\n\nH0\n\nV0 V1 V2 V3\n\nFigure 1: PE array\n\no0 = i0\n\no0\n\no1\n\ni0\n\ni1\n\no1 = i1\n\nreg = i0*i1+ reg\n\nProcessing Element (PE)\n\nreg\n\nFigure 2: Processing Element (PE)\n\nYour goal is to use this systolic array to perform the convolution of a 3x3 image (matrix I) with three 2x2 filters (matrices F, G, and H), to obtain three outputs (matrices O, U, and E):\n\nI00 I01 I02\nI10 I11 I12\nI20 I21 I22\n\n~\nF00 F01\n\nF10 F11\n=\n\nO00 O01\n\nO10 O11\n\nI00 I01 I02\nI10 I11 I12\nI20 I21 I22\n\n~\nG00 G01\n\nG10 G11\n=\n\nU00 U01\n\nU10 U11\n\nI00 I01 I02\nI10 I11 I12\nI20 I21 I22\n\n~\nH00 H01\n\nH10 H11\n=\n\nE00 E01\n\nE10 E11\n\nAs an example, the convolution of the matrix I with the filter F is computed as follows:\n\n\u2022 O00 = I00 \u2217 F00 + I01 \u2217 F01 + I10 \u2217 F10 + I11 \u2217 F11\n\n\u2022 O01 = I01 \u2217 F00 + I02 \u2217 F01 + I11 \u2217 F10 + I12 \u2217 F11\n\n\u2022 O10 = I10 \u2217 F00 + I11 \u2217 F01 + I20 \u2217 F10 + I21 \u2217 F11\n\n\u2022 O11 = I11 \u2217 F00 + I12 \u2217 F01 + I21 \u2217 F10 + I22 \u2217 F11",
    "problem_question": "You should compute the three convolutions in the minimum possible amount of cycles. Fill the following table with:\n\n1. The input values (matrices I, F, G, and H) in the correct input ports of the systolic array (the values can be repeated).\n\n2. The output values and the corresponding PE where the outputs (matrices O, U, and E) are generated.\n\nFill the gaps only with relevant information.\n\ncycle H0 H1 H2 V0 V1 V2 V3 PE00 PE01 PE02 PE03 PE10 PE11 PE12 PE13 PE20 PE21 PE22 PE23",
    "problem_solution": "0 F00 I00\n1 F01 G00 I01 I01\n2 F10 G01 H00 I10 I02 I10\n3 F11 G10 H01 I11 I11 I11 I11 O00\n\n4 G11 H10 I12 I20 I12 O01 U00\n\n5 H11 I21 I21 O10 U01 E00\n\n6 I22 O11 U10 E01\n\n7 U11 E10\n\n8 E11\n\n9\n10\n11\n12\n13\n14\n15",
    "problem_context_figures": [],
    "problem_solution_figures": []
}
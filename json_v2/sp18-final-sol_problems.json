```json
{
  "exam_name": "Final Exam CSC 252 8 May 2018",
  "problems": [
    {
      "problem": "Problem 0",
      "problem_context": "Facebook is hiring hardware engineers. What do you think they are building?",
      "parts": [
        {
          "part": "a",
          "subproblem": [
            {
              "subproblem_question": "Any answer is accepted."
            }
          ],
          "answer": [
            {
              "solution": ""
            }
          ]
        }
      ]
    },
    {
      "problem": "Problem 1",
      "parts": [
        {
          "part": "a",
          "subproblem": [
            {
              "subproblem_question": "A microarchitecture is predicting whether a branch is taken or not taken using a 1-bit predictor. The last five branches were: taken, taken, taken, taken, not taken. What does the branch predictor predict (choose): Taken or Not Taken?"
            }
          ],
          "answer": [
            {
              "solution": "Not Taken"
            }
          ]
        },
        {
          "part": "b",
          "subproblem": [
            {
              "subproblem_question": "In a typical Linux/Unix terminal, when you hit Ctrl + Z, which state are you putting the foreground process to (choose): Running, Stopped, Terminated?"
            }
          ],
          "answer": [
            {
              "solution": "Stopped"
            }
          ]
        },
        {
          "part": "c",
          "subproblem": [
            {
              "subproblem_question": "Cache blocking is a software-level performance optimization technique that improves what aspect of a program (choose): Locality, Parallelism, Concurrency, Security?"
            }
          ],
          "answer": [
            {
              "solution": "Locality"
            }
          ]
        },
        {
          "part": "d",
          "subproblem": [
            {
              "subproblem_question": "An application that is 90% parallelizable is executed on a single processor in 1.5 hours. If the application is allowed to run with an unlimited number of processors, what is the lower bound on its execution time?"
            }
          ],
          "answer": [
            {
              "solution": "9 mins. With an unlimited number of processors, the parallelizable part of a program would finish in no time, and the execution time is equivalent to the sequential part, which is 90 mins * 0.1=9 mins."
            }
          ]
        },
        {
          "part": "e",
          "subproblem": [
            {
              "subproblem_question": "On a page fault, the operating system often loads a page from the disk into memory. How does the operating system know whether it is necessary to write the previously occupied page in the memory back to the disk? Answer in fifteen words or fewer."
            }
          ],
          "answer": [
            {
              "solution": "Check the dirty bit in the corresponding page table entry."
            }
          ]
        },
        {
          "part": "f",
          "subproblem": [
            {
              "subproblem_question": "What is the cycle time of a 1 GHz processor?"
            }
          ],
          "answer": [
            {
              "solution": "1 ns"
            }
          ]
        },
        {
          "part": "g",
          "subproblem": [
            {
              "subproblem_question": "What is the fundamental reason that process context switch has a much higher overhead than thread context switch in Linux? Answer in twenty words or fewer."
            }
          ],
          "answer": [
            {
              "solution": "Threads share virtual address space while processes have separate virtual address spaces."
            }
          ]
        },
        {
          "part": "h",
          "subproblem": [
            {
              "subproblem_question": "Suppose we have two 4-bit 2's complement numbers: 1111 1110 Does the sum of the two numbers result in an overflow?"
            }
          ],
          "answer": [
            {
              "solution": "No."
            }
          ]
        },
        {
          "part": "i",
          "subproblem": [
            {
              "subproblem_question": "Recall that the crux of tracing-based GC algorithms such as Mark-and-sweep and Mark-sweep-compact is to start from 'root' variables and then identify all the reachable variables. In the following code snippet, suppose the program just finishes executing L7, which variables are regarded as 'root'? Name only those that point to variables on the heap.",
              "subproblem_figures": ["TABLE"]
            }
          ],
          "answer": [
            {
              "solution": "p1 and p3."
            }
          ]
        }
      ]
    },
    {
      "problem": "Problem 2",
      "problem_context": "We assume that IEEE decided to add a new 8-bit representation with its main characteristics consistent with the 32/64-bit representations. Consider the following four 8-bit numbers: A: 11100101 B: 00111001 C: 00001100 D: 00011101 The decimal values represented by the above numbers are as follows, in no particular order: 3 1/8, -21, 29/32, 3/8",
      "parts": [
        {
          "part": "a",
          "subproblem": [
            {
              "subproblem_question": "Represent decimal value 3/8 in binary normalized form"
            }
          ],
          "answer": [
            {
              "solution": "1.1 x 2^-2"
            }
          ]
        },
        {
          "part": "b",
          "subproblem": [
            {
              "subproblem_question": "Which 8-bit floating point number represents -21 (choose from A, B, C, D)?"
            }
          ],
          "answer": [
            {
              "solution": "A"
            }
          ]
        },
        {
          "part": "c",
          "subproblem": [
            {
              "subproblem_question": "Which 8-bit floating point number represents 29/32 (choose from A, B, C, D)?"
            }
          ],
          "answer": [
            {
              "solution": "D"
            }
          ]
        },
        {
          "part": "d",
          "subproblem": [
            {
              "subproblem_question": "Given the above information, figure out the following: (2 points) Number of bits needed for exponent: (2 points) Number of bits needed for fraction: (2 points) Bias:"
            }
          ],
          "answer": [
            {
              "solution": "3, 4, 3"
            }
          ]
        }
      ]
    },
    {
      "problem": "Problem 3",
      "problem_context": "A byte-addressable, write-back cache of fixed total size and fixed cache line (a.k.a., block) size is implemented as both a direct mapped cache and also as an N-way set-associative cache. In both cases, we will assume the cache is initially empty.",
      "problem_figures": ["TABLE"],
      "parts": [
        {
          "part": "a",
          "subproblem": [
            {
              "subproblem_question": "How many cache lines does each set have in a direct mapped cache?"
            }
          ],
          "answer": [
            {
              "solution": "1"
            }
          ]
        },
        {
          "part": "b",
          "subproblem": [
            {
              "subproblem_question": "What is the cache line (a.k.a., block) size?"
            }
          ],
          "answer": [
            {
              "solution": "16 Bytes"
            }
          ]
        },
        {
          "part": "c",
          "subproblem": [
            {
              "subproblem_question": "What are the number of index bits for the direct mapped cache?"
            }
          ],
          "answer": [
            {
              "solution": ""
            }
          ]
        },
        {
          "part": "d",
          "subproblem": [
            {
              "subproblem_question": "What is N?"
            }
          ],
          "answer": [
            {
              "solution": "2"
            }
          ]
        },
        {
          "part": "e",
          "subproblem": [
            {
              "subproblem_question": "What is the number of index bits for the N-Way set associative cache?"
            }
          ],
          "answer": [
            {
              "solution": "2"
            }
          ]
        },
        {
          "part": "f",
          "subproblem": [
            {
              "subproblem_question": "Is this a write-allocate cache?"
            }
          ],
          "answer": [
            {
              "solution": "No"
            }
          ]
        },
        {
          "part": "g",
          "subproblem": [
            {
              "subproblem_question": "Please complete the second table above by filling in 'Hit' or 'Miss' for each of the blank entries. 'I Don't Know' is accepted on a per blank basis.",
              "subproblem_figures": ["TABLE"]
            }
          ],
          "answer": [
            {
              "solution": ""
            }
          ]
        }
      ]
    },
    {
      "problem": "Problem 4",
      "problem_context": "We wish to enhance the x86 ISA by adding a new instruction. The new instruction is called STI, 'Store Indirect', and its format is: STI Ra,Rb,Offset The opcode of STI is 1010, and its binary encoding is (2-Byte long):",
      "problem_figures": ["TABLE"],
      "parts": [
        {
          "part": "a",
          "subproblem": [
            {
              "subproblem_question": "In this particular TLB, the Valid bit in the first column and the Valid bit in the third column are the same in both TLB entries. In general, is it possible that these two valid bits have different values?"
            }
          ],
          "answer": [
            {
              "solution": "Yes"
            }
          ]
        },
        {
          "part": "b",
          "subproblem": [
            {
              "subproblem_question": "What is binary encoding for STI %eax, %ebx, 0? Assume that %eax is encoded as 0 and %ebx is encoded as 1."
            }
          ],
          "answer": [
            {
              "solution": "1010000001000000"
            }
          ]
        },
        {
          "part": "c",
          "subproblem": [
            {
              "subproblem_question": "To process the STI instruction, one must go through the Fetch, Decode, etc. instruction cycle. What is the maximum number of physical addresses that can be accessed in processing an STI instruction?"
            }
          ],
          "answer": [
            {
              "solution": "6"
            }
          ]
        },
        {
          "part": "d",
          "subproblem": [
            {
              "subproblem_question": "Now the processor executes STI %eax, %ebx, 0. It turned out that five physical memory accesses were needed. The table below shows the Virtual Address (VA), Physical Address (PA), Data, and whether or not there was a TLB hit for each of these five physical memory accesses in the order they occurred. Some of the blanks are intentionally left for you to fill in.",
              "subproblem_figures": ["TABLE"]
            }
          ],
          "answer": [
            {
              "solution": [
                {
                  "solution": "32 Bytes",
                  "solution_figures": []
                },
                {
                  "solution": "128",
                  "solution_figures": []
                },
                {
                  "solution": "0x260",
                  "solution_figures": []
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "problem": "Problem 5",
      "problem_context": "A programmer writes the following two C code segments. She wants to run them concurrently on a multicore processor, called SC, using two different threads, each of which will run on a different core.",
      "problem_figures": ["TABLE"],
      "parts": [
        {
          "part": "a",
          "subproblem": [
            {
              "subproblem_question": "Both threads have a variable a. Are they referring to the same variable?"
            }
          ],
          "answer": [
            {
              "solution": "No"
            }
          ]
        },
        {
          "part": "b",
          "subproblem": [
            {
              "subproblem_question": "What are the possible final value(s) of Y[0] after both threads finish execution? Consider all the possible thread interleavings."
            }
          ],
          "answer": [
            {
              "solution": "2"
            }
          ]
        },
        {
          "part": "c",
          "subproblem": [
            {
              "subproblem_question": "What are the possible final value(s) of b after both threads finish execution? Consider all the possible thread interleavings."
            }
          ],
          "answer": [
            {
              "solution": "0 and 1"
            }
          ]
        }
      ]
    }
  ]
}
```